<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://www.ermao.org/article/pyt7rrkd/"><meta property="og:title" content="自己一只搭建二猫子 QQ 机器人"><meta property="og:description" content="搭建二猫子剑网三QQ群机器人，保姆级教程。 针对高手的一句话搭建 随便搞一个支持 OneBot v11 的客户端，然后把反向 ws 地址改为： wss://ermaozi.cn/onebot/v11/ws 针对不爱折腾的一句话攻略 访问我的淘宝店 -> https://item.taobao.com/item.htm?ft=t&id=822481210..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-09-01T13:26:01.000Z"><meta property="article:tag" content="机器人"><meta property="article:modified_time" content="2024-09-01T13:26:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"自己一只搭建二猫子 QQ 机器人","image":[""],"dateModified":"2024-09-01T13:26:01.000Z","author":[]}</script><link rel="icon" href="/images/favicon.ico"><meta name="keywords" content="网络知识分享, Python编程技术, 运维教程"><meta name="description" content="想要学习网络知识、Python编程技术和运维教程吗？我们提供高质量的网络知识分享，包括Python编程技术和运维教程，帮助你快速入门和提升技能。"><title>自己一只搭建二猫子 QQ 机器人</title><link rel="preload" href="/assets/style-D1b46zpI.css" as="style"><link rel="stylesheet" href="/assets/style-D1b46zpI.css"><link rel="modulepreload" href="/assets/app-DVbyVNpf.js"><link rel="modulepreload" href="/assets/index.html-pnFn8J3Y.js"><link rel="prefetch" href="/assets/index.html-CI1Y4CW2.js" as="script"><link rel="prefetch" href="/assets/index.html-BiOpdzAd.js" as="script"><link rel="prefetch" href="/assets/index.html-C8_sVQIa.js" as="script"><link rel="prefetch" href="/assets/index.html-BYh71Qjj.js" as="script"><link rel="prefetch" href="/assets/index.html-D6cFVv2w.js" as="script"><link rel="prefetch" href="/assets/index.html-DysQ969t.js" as="script"><link rel="prefetch" href="/assets/index.html-dsCFglEW.js" as="script"><link rel="prefetch" href="/assets/index.html-DJaSaCLD.js" as="script"><link rel="prefetch" href="/assets/index.html-tBmPc6Qa.js" as="script"><link rel="prefetch" href="/assets/index.html-BBq_W4HW.js" as="script"><link rel="prefetch" href="/assets/index.html-H8_WcLCB.js" as="script"><link rel="prefetch" href="/assets/index.html-Bi5hP8uu.js" as="script"><link rel="prefetch" href="/assets/index.html-OPVnoV9B.js" as="script"><link rel="prefetch" href="/assets/404.html-2-9_V8Iy.js" as="script"><link rel="prefetch" href="/assets/index.html-B3jfRyfu.js" as="script"><link rel="prefetch" href="/assets/index.html-lU29aeou.js" as="script"><link rel="prefetch" href="/assets/index.html-BfZnxrwz.js" as="script"><link rel="prefetch" href="/assets/index.html-DGOdK7_P.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-CujvUI6g.js" as="script"><link rel="prefetch" href="/assets/SearchBox-1zIovg2Y.js" as="script"><link rel="prefetch" href="/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-CqWaZpU6.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume vp-layout" data-v-6ce97a68><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-28fb108a></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-28fb108a> Skip to content </a><!--]--><!----><div class="vp-nav" data-v-6ce97a68 data-v-5345ce5e><div class="vp-navbar" data-v-5345ce5e data-v-bf1c73a8><div class="wrapper" data-v-bf1c73a8><div class="container" data-v-bf1c73a8><div class="title" data-v-bf1c73a8><div class="vp-navbar-title" data-v-bf1c73a8 data-v-740c2866><a class="vp-link link title" href="/" data-v-740c2866 data-v-c9a01ced><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/images/logo.svg" alt data-v-c620efd2><!--]--><!--[--><img class="vp-image light logo" src="/images/logo.svg" alt data-v-c620efd2><!--]--><!--]--><!--]--><span data-v-740c2866></span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-bf1c73a8><div class="content-body" data-v-bf1c73a8><!--[--><!--]--><div class="vp-navbar-search search" data-v-bf1c73a8><div class="search-wrapper" data-v-3803e512><!----><div id="local-search" data-v-3803e512><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-3803e512><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-bf1c73a8 data-v-bca36875><span id="main-nav-aria-label" class="visually-hidden" data-v-bca36875>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-bca36875 data-v-696c3684 data-v-c9a01ced><!--[--><!----><span data-v-696c3684>二猫子博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-bca36875 data-v-696c3684 data-v-c9a01ced><!--[--><!----><span data-v-696c3684>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-bca36875 data-v-696c3684 data-v-c9a01ced><!--[--><!----><span data-v-696c3684>归档</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/friends/" tabindex="0" data-v-bca36875 data-v-696c3684 data-v-c9a01ced><!--[--><!----><span data-v-696c3684>友链</span><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-bf1c73a8 data-v-166c8705><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-166c8705 data-v-dba34b68 data-v-f43c7b4f><span class="check" data-v-f43c7b4f><span class="icon" data-v-f43c7b4f><!--[--><span class="vpi-sun sun" data-v-dba34b68></span><span class="vpi-moon moon" data-v-dba34b68></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-bf1c73a8 data-v-b08d9599 data-v-be5959ae><!--[--><a class="vp-social-link" href="https://github.com/ermaozi" aria-label="github" target="_blank" rel="noopener" data-v-be5959ae data-v-2b61e448><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-bf1c73a8 data-v-d5dc1e3f data-v-8b747dd2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8b747dd2><span class="vpi-more-horizontal icon" data-v-8b747dd2></span></button><div class="menu" data-v-8b747dd2><div class="vp-menu" data-v-8b747dd2 data-v-e5fcece8><!----><!--[--><!--[--><!----><div class="group" data-v-d5dc1e3f><div class="item appearance" data-v-d5dc1e3f><p class="label" data-v-d5dc1e3f>外观</p><div class="appearance-action" data-v-d5dc1e3f><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-d5dc1e3f data-v-dba34b68 data-v-f43c7b4f><span class="check" data-v-f43c7b4f><span class="icon" data-v-f43c7b4f><!--[--><span class="vpi-sun sun" data-v-dba34b68></span><span class="vpi-moon moon" data-v-dba34b68></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d5dc1e3f><div class="item social-links" data-v-d5dc1e3f><div class="vp-social-links social-links-list" data-v-d5dc1e3f data-v-be5959ae><!--[--><a class="vp-social-link" href="https://github.com/ermaozi" aria-label="github" target="_blank" rel="noopener" data-v-be5959ae data-v-2b61e448><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-bf1c73a8 data-v-8835d3e8><span class="container" data-v-8835d3e8><span class="top" data-v-8835d3e8></span><span class="middle" data-v-8835d3e8></span><span class="bottom" data-v-8835d3e8></span></span></button></div></div></div></div><div class="divider" data-v-bf1c73a8><div class="divider-line" data-v-bf1c73a8></div></div></div><!----></div><div class="vp-local-nav fixed reached-top is-blog" data-v-6ce97a68 data-v-b2b8d5a4><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-b2b8d5a4><span class="vpi-align-left menu-icon" data-v-b2b8d5a4></span><span class="menu-text" data-v-b2b8d5a4>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-b2b8d5a4 data-v-3500411a><button data-v-3500411a>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-6ce97a68 data-v-e2caa794><div class="is-blog vp-doc-container" data-v-1d5db372><!--[--><!--]--><div class="container" data-v-1d5db372><!----><div class="content" data-v-1d5db372><div class="content-container" data-v-1d5db372><!--[--><!--]--><main class="main" data-v-1d5db372><nav class="vp-breadcrumb" data-v-1d5db372 data-v-389b80fb><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-389b80fb><!--[--><li property="itemListElement" typeof="ListItem" data-v-389b80fb><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-389b80fb data-v-c9a01ced><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-389b80fb></span><meta property="position" content="1" data-v-389b80fb></li><li property="itemListElement" typeof="ListItem" data-v-389b80fb><a class="vp-link link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-389b80fb data-v-c9a01ced><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-389b80fb></span><meta property="position" content="2" data-v-389b80fb></li><li property="itemListElement" typeof="ListItem" data-v-389b80fb><a class="vp-link link breadcrumb" href="/blog/categories/?id=325369" property="item" typeof="WebPage" data-v-389b80fb data-v-c9a01ced><!--[-->文档<!--]--><!----></a><span class="vpi-chevron-right" data-v-389b80fb></span><meta property="position" content="3" data-v-389b80fb></li><li property="itemListElement" typeof="ListItem" data-v-389b80fb><a class="vp-link link breadcrumb current" href="/article/pyt7rrkd/" property="item" typeof="WebPage" data-v-389b80fb data-v-c9a01ced><!--[-->自己一只搭建二猫子 QQ 机器人<!--]--><!----></a><!----><meta property="position" content="4" data-v-389b80fb></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-9193eedd>自己一只搭建二猫子 QQ 机器人</h1><div class="vp-doc-meta" data-v-9193eedd><p class="reading-time" data-v-9193eedd><span class="vpi-books icon" data-v-9193eedd></span><span data-v-9193eedd>971字</span><span data-v-9193eedd>约3分钟</span></p><p data-v-9193eedd><span class="vpi-tag icon" data-v-9193eedd></span><!--[--><a class="vp-link link tag vp-tag-0hne" href="/blog/tags/?tag=机器人" data-v-9193eedd data-v-c9a01ced><!--[-->机器人<!--]--><!----></a><!--]--></p><p class="create-time" data-v-9193eedd><span class="vpi-clock icon" data-v-9193eedd></span><span data-v-9193eedd>2024-05-08</span></p></div><!--]--><div class="vp-doc plume-content _article_pyt7rrkd_ external-link-icon-enabled" data-v-1d5db372><p>搭建二猫子剑网三QQ群机器人，保姆级教程。</p><h2 id="针对高手的一句话搭建" tabindex="-1"><a class="header-anchor" href="#针对高手的一句话搭建"><span>针对高手的一句话搭建</span></a></h2><p>随便搞一个支持 OneBot v11 的客户端，然后把反向 ws 地址改为：</p><p><code>wss://ermaozi.cn/onebot/v11/ws</code></p><h2 id="针对不爱折腾的一句话攻略" tabindex="-1"><a class="header-anchor" href="#针对不爱折腾的一句话攻略"><span>针对不爱折腾的一句话攻略</span></a></h2><p>访问我的淘宝店 -&gt; <a href="https://item.taobao.com/item.htm?ft=t&amp;id=822481210366" target="_blank" rel="noopener noreferrer">https://item.taobao.com/item.htm?ft=t&amp;id=822481210366</a></p><p>直接购买现成的</p><h2 id="购买服务器并登录" tabindex="-1"><a class="header-anchor" href="#购买服务器并登录"><span>购买服务器并登录</span></a></h2><details class="hint-container details"><summary>点击查看详情</summary><h3 id="购买" tabindex="-1"><a class="header-anchor" href="#购买"><span>购买</span></a></h3><p>腾讯云 <a href="https://curl.qcloud.com/rf4aBb9m" target="_blank" rel="noopener noreferrer">https://curl.qcloud.com/rf4aBb9m</a></p><p>云服务器优点是稳定，且有公网IP，缺点就是贵。如果是富婆富哥可以无视此缺点。多翻翻，买个最便宜的。</p><p><img src="/assets/image-Dj8zl3Nl.png" alt="alt text"></p><p>购买时地域选择 <strong>上海</strong>，镜像选择 <strong>Docker</strong></p><p><img src="/assets/image-1-o2TqLA-W.png" alt="alt text"></p><p>上海离我的服务器近，连接能快一点，镜像选择 Docker 可以不用再装docker，省事。</p><h3 id="找到你的ip与密码" tabindex="-1"><a class="header-anchor" href="#找到你的ip与密码"><span>找到你的IP与密码</span></a></h3><p>先进控制台，它的位置是不确定的（位置与样貌随时间改变而改变），但是可以肯定名字不会变，我只能帮你到这了</p><p><img src="/assets/image-2-D9A7rO1P.png" alt="alt text"></p><p>进入轻量应用服务器</p><p><img src="/assets/image-3-C1Moxh33.png" alt="alt text"></p><p>因为我们买的是轻量服务器，所以选这个</p><p><img src="/assets/image-4-C4Tt-8VG.png" alt="alt text"></p><p>（公）后面的ip就是你的公网ip，记下来，存在记事本里，或是抄下来</p><p><img src="/assets/image-5-BeWWlyWY.png" alt="alt text"></p><p>然后点击更多，选择重置密码，重置完成后，<strong>请运用你的所有智慧，不择手段地记住它，狠狠地记住这个密码</strong></p><p>如果你的系统装错了也可以点击更多里面的重装系统进行重装。</p><h3 id="登录服务器" tabindex="-1"><a class="header-anchor" href="#登录服务器"><span>登录服务器</span></a></h3><p>按 <code>win + R</code> 打开运行窗口，输入 <code>cmd</code> 回车</p><p><img src="/assets/image-6-DSA2jhX8.png" alt="alt text"></p><p>输入 <code>ssh ubuntu@你的服务器ip</code> 回车</p><p><img src="/assets/image-7-T_Flsomc.png" alt="alt text"></p><p>如果是第一次登录服务器，会提示你是否确认连接，输入 <code>yes</code> 回车</p><p>完成后会提示输入密码，把上面重置过的密码手动输入或是复制进去都可以，<strong>注意</strong>：这个时候输入的密码并不会显示出来，输入完成后直接按回车就好了。</p><p><img src="/assets/image-8-Bmcm7RHX.png" alt="alt text"></p><p>事已至此，你已经成功登录到服务器了。</p></details><h2 id="安装-docker" tabindex="-1"><a class="header-anchor" href="#安装-docker"><span>安装 Docker</span></a></h2><p>如果你选择了 Docker 镜像，那么恭喜你，你已经省去了一大部分麻烦，因为 Docker 镜像已经帮你装好了 Docker。</p><p>如果你选择了 Ubuntu 镜像，那么你需要自己安装 Docker。</p><p>顺序执行以下命令即可：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt-get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qO-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://get.docker.com/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装成功后，输入 <code>docker -v</code> 查看版本号，如果有版本号输出，说明安装成功。</p><p><img src="/assets/image-9-52lDrlox.png" alt="alt text"></p><h2 id="安装-lagrange" tabindex="-1"><a class="header-anchor" href="#安装-lagrange"><span>安装 lagrange</span></a></h2><p>lagrange 是一个支持 OneBot v11 的客户端，我们可以使用它来对接到我们服务器。</p><p>创建并修改配置文件</p><p>点击查看 -&gt; <a href="https://www.runoob.com/linux/linux-vim.html" target="_blank" rel="noopener noreferrer">vim 入门教程</a></p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 创建目录，目录名称是自己的QQ号，方便以后维护</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/lagrange/你的QQ号</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 用 vim 打开配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/lagrange/你的QQ号/appsettings.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将一下内容录入<code>appsettings.json</code></p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Logging</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">LogLevel</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Default</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Information</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Microsoft</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Warning</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Microsoft.Hosting.Lifetime</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Information</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">SignServerUrl</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://sign.lagrangecore.org/api/sign/25765</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Account</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Uin</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Password</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Protocol</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Linux</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">AutoReconnect</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">GetOptimumServer</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Message</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">IgnoreSelf</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">StringPost</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">QrCode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ConsoleCompatibilityMode</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Implementations</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Type</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ReverseWebSocket</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Host</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">wss://ermaozi.cn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Port</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 443</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Suffix</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/onebot/v11/ws</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">ReconnectInterval</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">HeartBeatInterval</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">AccessToken</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动你的 lagrange</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -it</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 你的QQ号</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --network</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> always</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/lagrange/你的QQ号:/app/data</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ghcr.io/lagrangedev/lagrange.onebot:edge</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>完成扫码登录后按 <code>Ctrl + C</code> 退出</p><h2 id="附录" tabindex="-1"><a class="header-anchor" href="#附录"><span>附录</span></a></h2><p>常用的 docker 命令</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> logs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --tail</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 你的QQ号</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重启容器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 你的QQ号</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重新登录</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/lagrange/你的QQ号</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> device.json</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> keystore.json</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lagrange-0.db</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 你的QQ号</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -it</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 你的QQ号</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --network</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> always</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/lagrange/你的QQ号:/app/data</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ghcr.io/lagrangedev/lagrange.onebot:edge</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 清除所有容器日志</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ps</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qa</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-trunc</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">xargs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -I</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /var/lib/docker/containers/{}/{}-json.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></main><footer class="vp-doc-footer" data-v-1d5db372 data-v-47e381f8><!--[--><!--]--><!----><div class="contributors" data-v-47e381f8><span class="contributors-label" data-v-47e381f8>贡献者: </span><span class="contributors-info" data-v-47e381f8><!--[--><!--[--><span class="contributor" data-v-47e381f8>ermaozi</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-47e381f8><div class="pager" data-v-47e381f8><a class="vp-link link pager-link prev" href="/article/b06gglcq/" data-v-47e381f8 data-v-c9a01ced><!--[--><span class="desc" data-v-47e381f8>上一页</span><span class="title" data-v-47e381f8>docker 部署 aria2</span><!--]--><!----></a></div><div class="pager" data-v-47e381f8><a class="vp-link link pager-link next" href="/article/yifph1jd/" data-v-47e381f8 data-v-c9a01ced><!--[--><span class="desc" data-v-47e381f8>下一页</span><span class="title" data-v-47e381f8>使用Vim上班看小说</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-1d5db372><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--[--><!--]--></div></div></div></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-6ce97a68 data-v-55fcea4e><span class="percent" data-v-55fcea4e>0%</span><span class="show icon vpi-back-to-top" data-v-55fcea4e></span><svg aria-hidden="true" data-v-55fcea4e><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-55fcea4e></circle></svg></button><footer class="vp-footer" data-v-6ce97a68 data-v-7c7f4d7b><div class="container" data-v-7c7f4d7b><p class="message" data-v-7c7f4d7b>© 2024 二猫子 📧 <a href='mailto:admin@ermao.net'>admin@ermao.net</a></p><!----></div></footer><!--[--><!--]--><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-DVbyVNpf.js" defer></script></body></html>